# Guru Vaani - AI-Powered Teacher Reflection Platform

Guru Vaani is a comprehensive platform designed to empower teachers through AI-assisted reflection and provide administrators with actionable insights into educational trends.

## üèóÔ∏è Project Structure

The project is organized as a monorepo with the following packages:

- **`backend`**: Node.js/Express server using Prisma (SQLite) for data persistence and authentication.
- **`teacher-web-app`**: sleek, mobile-first React application for teachers to submit reflections (text/voice).
- **`web-dashboard`**: Admin interface for viewing analytics, managing teachers, and monitoring reflections.
- **`shared`**: Common UI components, design tokens, and utilities shared between frontends.

## üöÄ Getting Started

### Prerequisites
- Node.js (v18+)
- npm (v9+)

### Installation
1.  **Install Dependencies**:
    ```bash
    npm install
    ```

2.  **Database Setup**:
    Initialize the SQLite database:
    ```bash
    cd backend
    npx prisma migrate dev --name init
    npx prisma generate
    cd ..
    ```

### Running the Platform
To start all services (Backend, Teacher App, Admin Dashboard) concurrently:

```bash
npm run dev
```

Or run them individually:
- **Backend** (Port 3001): `npm run dev:backend`
- **Teacher App** (Port 3002): `npm run dev:web`
- **Admin Dashboard** (Port 3004/3005): `npm run dev:dashboard`

## üîë Key Features

### For Teachers (Mobile App)
- **AI-Guided Reflection**: "Share a Story" feature with mood tracking.
- **Voice Support**: Integrated voice recording for easy input.
- **My Entries**: View past reflections and growth insights.

### For Admins (Web Dashboard)
- **Teacher Directory**: Track educator engagement and "Last Active" status.
- **Reflection Analysis**: View AI-driven sentiment analysis and clustering.
- **Settings**: Configure platform behaviors.

## üõ†Ô∏è Technology Stack
- **Frontend**: React, Vite, Material UI (MUI), Recharts
- **Backend**: Express.js, Prisma ORM, SQLite
- **Authentication**: JWT & Role-Based Access Control (RBAC)
- **Styling**: Emotion, Custom Design Tokens

## üöÄ Deployment

### Prerequisites
Before deploying, ensure the shared module is built:
```bash
cd shared
npm run build
cd ..
```

### Frontend Deployment (Vercel)

Both the Teacher App and Admin Dashboard are configured for Vercel deployment.

**Teacher Web App:**
1. Push code to GitHub
2. Import project in Vercel
3. **Important**: Set Root Directory to the repository root (`.`), not `teacher-web-app`
4. Configure Environment Variables in Vercel Dashboard:
   - Variable: `VITE_API_URL`
   - Value: Your backend API URL (e.g., `https://guru-vaani-backend.onrender.com/api`)
   - Environments: Production, Preview, Development
5. Deploy

**Admin Dashboard:**
1. Push code to GitHub
2. Import project in Vercel (or create a new project)
3. **Important**: Set Root Directory to the repository root (`.`), not `web-dashboard`
4. Configure Environment Variables in Vercel Dashboard:
   - Variable: `VITE_API_URL`
   - Value: Your backend API URL (e.g., `https://guru-vaani-backend.onrender.com/api`)
   - Environments: Production, Preview, Development
5. Deploy

> **Note**: 
> - Environment variables must be set in the Vercel dashboard (Project Settings ‚Üí Environment Variables), not in `vercel.json`.
> - The `vercel.json` files are configured to build the shared module first, then the respective frontend app.

### Backend Deployment (Render)

The backend is configured for Render deployment via `render.yaml`.

1. Push code to GitHub
2. Create a new Web Service in Render
3. Connect your repository
4. Render will auto-detect `render.yaml`
5. Set the following environment variables:
   - `DATABASE_URL`: Your production database URL
   - `FRONTEND_URL`: Your deployed frontend URL(s)
   - `GROK_API_KEY`: Your Grok API key (if using AI features)
   - `JWT_SECRET`: Auto-generated by Render
6. Deploy

**Important**: Run database migrations after first deployment:
```bash
npx prisma migrate deploy
```

## üìù License
Proprietary - Guru Vaani
